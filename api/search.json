[{"id":"b9663f58f18133b35bfe243f3e916a80","title":"Hello World","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n","slug":"hello-world","date":"2022-01-16T15:57:03.877Z","categories_index":"","tags_index":"","author_index":"Gavinst"},{"id":"0723a0f3da0efde08b22864279957623","title":"How to connect CentOS8 VM to internet via NAT mode","content":"\n\n\n\n\n\n基本原理\n通过VMnet8网卡实现主机与虚拟机之间的通信，在NAT模式中，主机网卡直接与虚拟NAT设备相连，然后虚拟NAT设备与虚拟DHCP服务器一起连接在虚拟交换机VMnet8上，这样就实现了虚拟机联网\n\n\n启用VMware网址转换服务\nwin10WIN+R打开搜索框，输入services.msc打开服务\n开启VMware DHCP service&amp;VMware NAT service两项服务\n\n启用ICMPv4-in入站规则\nwin10WIN+I打开设置，搜索防火墙并进入，选择高级设置\n开启3个ICMPv4-In入站规则\n\n配置虚拟机NAT模式\n设置虚拟机网络连接模式\n选中虚拟机，编辑虚拟机设置 &gt; 硬件 | 网络适配器 &gt; 网络连接 | NAT模式\n\n\n配置虚拟机网关\nVMware菜单栏 &gt; 编辑 &gt; 虚拟网络编辑器 &gt; 选中VMnet8 NAT模式\n打开NAT设置，查看子网网关IP: 192.168.56.2，保留默认配置\n打开DNS设置，设置首选DNS服务器为主机默认网关：192.168.2.1（查看方式：Win10命令行窗口输入ipconfig）\n在虚拟网络编辑器界面，打开DHCP设置，查看起始&amp;结束IP地址，之后设置虚拟机IPADDR时，将在此之间\n\n\n\n配置主机VMnet8网络适配器\nWin10命令行窗口输入ncpa.cpl，打开适配器选项\n右键VMnet8 | 属性 &gt; 双击TCP/IPv4选项\n设置IP地址和虚拟机在同一网段192.168.56.x\n首选DNS服务器设置为主机默认网关：192.168.2.1\n\n配置虚拟机网卡信息\n查看虚拟机网络配置，虚拟机终端输入ifconfig，获取相应device name为ens160\n切换root用户，编辑配置文件\nvi /etc/sysconfig/network-scripts/ifcfg-ens160\n\n\n填入虚拟机NAT模式的默认配置，修改后保存\nIPADDR设为之前查看的DHCP网段之间\nNETMASK默认255.255.255.0\nGATEWAY子网网关192.168.56.2\n\n\n修改DNS客户机的配置文件\nvi /etc/resolv.conf，修改为nameserver 192.168.56.2\n\n\n\n重启虚拟机网络服务\nClick to see more\nnmcli c reload  &#x2F;&#x2F;vm下安装CentOS用此命令重启\n\nservice NetworkManager stop  &#x2F;&#x2F;临时关闭，避免与network重启冲突\nservice network restart\nservice NetworkManager restart\n&#x2F;&#x2F;其他命令\nservice NetworkManager status\nchkconfig NetworkManager off  &#x2F;&#x2F;禁止开机启动\nchkconfig NetworkManager on  &#x2F;&#x2F;开机启动\n\n\n\n重启网络服务\n测试网络连接\nping baidu.com\n\n\nNetwork和NetworkManager区别\nNetwork：对网卡的配置，网络接口修改后，必须重启网络服务来刷新配置，或重启系统来激活\nNetworkManager：检测、自动连接网络的程序\n\n\n\n配置虚拟机网络代理\nClick to see more\n\n\n\nfirefox网页代理，首选项 &gt; 网络设置 &gt; 代理设置，设置代理IP和端口Port\nyum代理，echo &#39;proxy=IP:Port&#39; &gt;&gt; /etc/yum.conf\nwget代理，echo -e &#39;http_proxy = IP:Port\\nftp_proxy = IP:Port\\nuse_proxy = on&#39; &gt;&gt; /etc/wgetrc \n系统环境代理\n编辑文件/etc/profile，若只为当前账户代理，则编辑~/.bashrc，添加代理      # add proxy\nexport http_proxy&#x3D;&quot;IP:Port&quot;\nexport https_proxy&#x3D;&quot;IP:Port&quot;\nexport ftp_proxy&#x3D;$http_proxy\n刷新环境变量，source /etc/profile或source ~/.bashrc\n\n\n\n装载共享文件夹\n添加共享文件夹，VMware菜单栏虚拟机 | 设置 &gt; 选项 | 共享文件夹\n\n虚拟机须安装VMware Tools，若未安装，可先关闭虚拟机\n将cd/dvd启动设为VMware安装目录下的linux.iso文件\n重启虚拟机，将虚拟光驱挂载到磁盘文件夹mount /dev/cdrom /media\n解压并安装其中的VMware Tools\n\n\n共享文件夹默认装载点/mnt/hgfs，终端执行vmware-hgfsclient命令可查看\n\n\n在虚拟机中装载，查看官方文档：在 Linux 客户机中装载共享文件夹\n\n\n\n4.0 之前的 Linux 内核\n4.0 及更高版本的 Linux 内核\n说明\n\n\n\nmount -t vmhgfs .host:/ /home/user1/shares\n/usr/bin/vmhgfs-fuse .host:/ /home/user1/shares -o subtype=vmhgfs-fuse,allow_other\n将所有共享装载到 /home/user1/shares\n\n\nmount -t vmhgfs .host:/foo /tmp/foo\n/usr/bin/vmhgfs-fuse .host:/foo /tmp/foo -o subtype=vmhgfs-fuse,allow_other\n将名为 foo 的共享装载到 /tmp/foo\n\n\nmount -t vmhgfs .host:/foo/bar /var/lib/bar\n/usr/bin/vmhgfs-fuse .host:/foo/bar /var/lib/bar -o subtype=vmhgfs-fuse,allow_other\n将共享 foo 中的子目录 bar 装载到 /var/lib/bar\n\n\n\n启动开机自动装载\n\n编辑/etc/fstab，添加所需装载命令\n\n\n\n","slug":"CentOS8-VM-NAT-Mode","date":"2022-01-15T05:09:48.000Z","categories_index":"VMware","tags_index":"vmware,NAT,centOS8","author_index":"Gavinst"}]