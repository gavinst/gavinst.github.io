{"title":"浏览器兼容","uid":"19f52058a99f2254fe7ff9487e081e12","slug":"浏览器兼容","date":"2021-06-17T16:00:00.000Z","updated":"2022-01-21T10:12:26.741Z","comments":true,"path":"api/articles/浏览器兼容.json","keywords":"webDesign","cover":null,"content":"<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">CSS Hack</p>\n<ul>\n<li>问题：不同的流览器或某同一的浏览器的不同版本，对CSS的支持及解析结果不一样，导致生成的页面效果不一样</li>\n<li>目的：在不同的浏览器中得到一致的页面效果</li>\n<li>方案：针对不同的浏览器编写特定的 <code>CSS</code> 样式，让它能够同时兼容不同的浏览器，即 <code>CSS Hack</code></li>\n</ul>\n\n</div>\n<h3 id=\"浏览器兼容的思路\"><a href=\"#浏览器兼容的思路\" class=\"headerlink\" title=\"浏览器兼容的思路\"></a>浏览器兼容的思路</h3><ul>\n<li>要不要做<ul>\n<li>产品的角度（产品的受众、受众的浏览器比例、效果优先还是基本功能优先）</li>\n<li>成本的角度 (有无必要做某件事)</li>\n</ul>\n</li>\n<li>做到什么程度<ul>\n<li>让哪些浏览器支持哪些效果</li>\n</ul>\n</li>\n<li>如何做<ul>\n<li>根据兼容需求选择技术框架/库( <code>jquery</code> )</li>\n<li>根据兼容需求选择兼容工具( <code>html5shiv.js</code>、<code>respond.js</code>、<code>css reset</code>、<br><code>normalize.css</code>、<code>Modernizr</code> )</li>\n<li><code>postCSS</code></li>\n<li>条件注释、<code>CSS Hack</code>、<code>js</code> 能力检测做一些修补</li>\n</ul>\n</li>\n<li>渐进增强和优雅降级<ul>\n<li>渐进增强(<code>progressive enhancement</code>):针对低版本浏览器进行构建页面，保证最基本的功能然后再针对高级浏览器进行效果、交互等改进和追加功能达到更好的用户体验</li>\n<li>优雅降级 (<code>graceful degradation</code>): 一开始就构建完整的功能，然后再针对低版本浏览器进行兼容</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"CSS-Hack-的方法\"><a href=\"#CSS-Hack-的方法\" class=\"headerlink\" title=\"CSS Hack 的方法\"></a><code>CSS Hack</code> 的方法</h3><h4 id=\"合适的框架\"><a href=\"#合适的框架\" class=\"headerlink\" title=\"合适的框架\"></a>合适的框架</h4><ul>\n<li>Bootstrap (&gt;=ie8)</li>\n<li>jQuery 1.~ (&gt;=ie6), jQuery 2.~ (&gt;=ie9)</li>\n<li>Vue (&gt;= ie9)</li>\n<li>…</li>\n</ul>\n<h4 id=\"常见属性的兼容情况\"><a href=\"#常见属性的兼容情况\" class=\"headerlink\" title=\"常见属性的兼容情况\"></a>常见属性的兼容情况</h4><ul>\n<li>inline-block: &gt;= ie8</li>\n<li>min-width/min-height: &gt;= ie8</li>\n<li>:before,:after: &gt;= ie8</li>\n<li>div:hover: &gt;= ie7</li>\n<li>inline-block: &gt;= ie8</li>\n<li>background-size: &gt;= ie9</li>\n<li>圆角: &gt;= ie9</li>\n<li>阴影: &gt;= ie9</li>\n<li>动画/渐变: &gt;= ie10</li>\n</ul>\n<h4 id=\"CSS-Hack表现方式\"><a href=\"#CSS-Hack表现方式\" class=\"headerlink\" title=\"CSS Hack表现方式\"></a><code>CSS Hack</code>表现方式</h4><ul>\n<li><p>属性前缀</p>\n<ul>\n<li>IE6生效：下划线 <code>_</code> ，星号 <code>*</code>，例 <code>&#123; _color: green; &#125;</code></li>\n<li>IE7生效：星号 <code>*</code>，加号 <code>+</code> 或 <code>*+</code>， 例 <code>&#123; *color: green; &#125;</code></li>\n<li>IE6-IE10：<code>\\9</code>， 例 <code>&#123; color: green\\9; &#125;</code></li>\n<li>…</li>\n</ul>\n</li>\n<li><p>选择器前缀</p>\n<ul>\n<li>IE6生效：<code>*html</code>，例 <code>*html .content &#123; color: green; &#125;</code></li>\n<li>IE7生效：<code>*+html</code>，例 <code>*+html .content &#123; color: green; &#125;</code></li>\n<li>IE6/7生效：<code>@media screen\\9 &#123;&#125;</code>，例 <code>@media screen\\9 &#123; .content &#123; color: green; &#125; &#125; </code></li>\n<li>IE8生效：<code>@media \\0screen &#123;&#125;</code></li>\n<li>IE6/7/8生效：<code>@media \\0screen\\,screen\\9 &#123;&#125;</code></li>\n<li>IE8/9/10/11生效：<code>@media screen\\0 &#123;&#125;</code></li>\n<li>IE9/10/11生效：<code>@media screen and (min-width: 0\\0) &#123;&#125;</code></li>\n</ul>\n</li>\n<li><p><code>IE</code> 条件注释</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F;语法：\n&lt;!--[if condition]&gt; HTML &lt;![endif]--&gt;\n&lt;!--[if !condition]&gt;&lt;!--&gt; HTML &lt;!--&lt;![endif]--&gt;\n\n&#x2F;&#x2F;条件：\n!    [if !IE]         非IE\nlt   [if lt IE 5.5]   小于IE 5.5\nlte  [if lte IE 6]    小于等于IE6\ngt   [if gt IE 5]     大于 IE5\ngte  [if gte IE 7]    大于等于IE7\n|    [if (IE 6)|(IE 7)]  IE6或者IE7\n\n&#x2F;&#x2F;范例：\n&lt;!--[if IE]&gt;只在IE浏览器显示&lt;![endif]--&gt;\n&lt;!--[if IE 6]&gt;只在IE6浏览器显示&lt;![endif]--&gt;\n\n&lt;!--[if lte IE 8]&gt;&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;lte-ie-8.css&quot;&gt;&lt;![endif]--&gt;</code></pre></li>\n</ul>\n<ul>\n<li><p>浏览器私有前缀</p>\n<ul>\n<li><code>-o</code> 对应 <code>opera</code> 浏览器</li>\n<li><code>-ms</code> 对应 <code>IE</code> 浏览器</li>\n<li><code>-moz</code> 对应 <code>firefox</code> 浏览器</li>\n<li><code>-webkit</code> 对应 <code>safari</code>，<code>chrome</code> 浏览器<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F;范例：\n-webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, .2);\n-moz-box-shadow: 0 1px 2px rgba(0, 0, 0, .2);\n-o-box-shadow: 0 1px 2px rgba(0, 0, 0, .2);\nbox-shadow: 0 1px 2px rgba(0, 0, 0, .2);</code></pre></li>\n</ul>\n<ul>\n<li>常见兼容处理范例<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;!--[if lt IE 9]&gt;\n&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;oss.maxcdn.com&#x2F;html5shiv&#x2F;3.7.3&#x2F;html5shiv.min.js&quot;&gt;&lt;&#x2F;script&gt;\n&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;oss.maxcdn.com&#x2F;respond&#x2F;1.4.2&#x2F;respond.min.js&quot;&gt;&lt;&#x2F;script&gt;\n&lt;![endif]--&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;!--[if IEMobile 7 ]&gt; &lt;html dir&#x3D;&quot;ltr&quot; lang&#x3D;&quot;en-US&quot;class&#x3D;&quot;no-js iem7&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if lt IE 7 ]&gt; &lt;html dir&#x3D;&quot;ltr&quot; lang&#x3D;&quot;en-US&quot; class&#x3D;&quot;no-js ie6 oldie&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 7 ]&gt;    &lt;html dir&#x3D;&quot;ltr&quot; lang&#x3D;&quot;en-US&quot; class&#x3D;&quot;no-js ie7 oldie&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 8 ]&gt;    &lt;html dir&#x3D;&quot;ltr&quot; lang&#x3D;&quot;en-US&quot; class&#x3D;&quot;no-js ie8 oldie&quot;&gt; &lt;![endif]--&gt;\n&lt;!--[if (gte IE 9)|(gt IEMobile 7)|!(IEMobile)|!(IE)]&gt;&lt;!--&gt;&lt;html dir&#x3D;&quot;ltr&quot; lang&#x3D;&quot;en-US&quot; class&#x3D;&quot;no-js&quot;&gt;\n&lt;!--&lt;![endif]--&gt;</code></pre></li>\n</ul>\n<p>refer to <a href=\"http://book.jirengu.com/jrg-team/frontend-knowledge-ppt/CSS-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9.md.html\">浏览器兼容 | jrg-team</a>，<a href=\"http://browserhacks.com/\">browserhacks.com</a>，<a href=\"http://ghmagical.com/article/page/id/I5NohCGdIxAt\">CSS hack合集 | ghmagical.com</a></p>\n</li>\n</ul>\n<h3 id=\"CSS-工具\"><a href=\"#CSS-工具\" class=\"headerlink\" title=\"CSS 工具\"></a><code>CSS</code> 工具</h3><ul>\n<li><p>条件注释</p>\n<ul>\n<li>条件注释是一种安全地区分 <code>IE</code> 浏览器版本的语法，且被认为是取代针对 <code>IE</code> <code>css hack</code>的首选办法</li>\n<li>基本结构和<code>HTML</code>的注释 <code>&lt;!- -&gt;</code>是一样的，<code>IE</code> 以外的浏览器将会把它们看作是普通的注释而完全忽略它们</li>\n<li><code>IE</code> 将会根据 <code>if</code> 条件来判断是否如解析普通的页面内容一样解析条件注释里的内容</li>\n</ul>\n</li>\n<li><p><code>IE hack</code></p>\n<ul>\n<li>针对 <code>IE</code> 浏览器编写兼容性 <code>CSS</code> 样式，如 <code>IE</code> 条件注释，选择器前缀，属性前缀</li>\n</ul>\n</li>\n<li><p><code>js</code> 能力检测</p>\n<ul>\n<li>在编写代码之前先检测特定浏览器的能力</li>\n<li><a href=\"https://segmentfault.com/a/1190000004076674\">「JavaScript 客户端检测——“能力检测”的注意要点」</a><pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F;范例：\nfunction getElement(id) &#123;\n  if (document.getElementById) &#123;\n      return document.getElementById(id);\n  &#125; else if(document.all) &#123;\n      return document.all[id];\n  &#125; else &#123;\n      throw new Error(&#39;No way to retrieve element&#39;);\n  &#125;\n&#125;</code></pre></li>\n</ul>\n</li>\n<li><p><code>html5shiv.js</code></p>\n<ul>\n<li>使 <code>IE6-9</code>，<code>Safari 4.x</code>(和 <code>Iphone 3.x</code>)和 <code>Firefox 3.x</code> 支持 <code>HTML5</code> 新增的元素</li>\n<li><a href=\"https://github.com/aFarkas/html5shiv\">「html5shiv.js | github」</a><pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F;范例：\n&lt;!--[if lt IE 9]&gt;\n&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;http:&#x2F;&#x2F;html5shiv.googlecode.com&#x2F;svn&#x2F;trunk&#x2F;html5.js&quot;&gt;&lt;&#x2F;script&gt;\n&lt;![endif]--&gt;</code></pre></li>\n</ul>\n</li>\n<li><p><code>respond.js</code></p>\n<ul>\n<li>使 <code>IE6-8</code> 等支持媒体查询 <code>min/max-width CSS3 Media Queries</code></li>\n<li><a href=\"https://github.com/scottjehl/Respond\">「respond.js | github」</a></li>\n</ul>\n</li>\n<li><p><code>css reset</code></p>\n<ul>\n<li>通过自定义 <code>CSS</code> 样式，取代不同浏览器默认样式，从而达到统一</li>\n<li>简单粗暴：<code>* &#123; margin:0; padding:0; &#125;</code></li>\n<li><a href=\"https://segmentfault.com/a/1190000003021766\">「关于CSS Reset 那些事」</a></li>\n</ul>\n</li>\n<li><p><code>normalize.css</code></p>\n<ul>\n<li>一种取代 <code>CSS reset</code> 的优质方案</li>\n<li><a href=\"https://github.com/necolas/normalize.css/\">「normalize.css | github」</a></li>\n</ul>\n</li>\n<li><p><code>modernizr</code></p>\n<ul>\n<li>用于检测当前浏览器对 <code>html5</code> 和 <code>css3</code> 支持情况的 <code>js</code> 库</li>\n<li>可通过检测为 <code>HTML</code> 添加相应的类，不支持的特性则添加 <code>no-</code> 为前缀的类</li>\n<li>默认内置 <code>html5shiv.js</code> 库</li>\n<li><a href=\"https://segmentfault.com/a/1190000003820989#articleHeader5\">「JS进阶篇–前端的瑞士军刀Modernizr.js」</a></li>\n<li><a href=\"https://github.com/Modernizr/Modernizr\">「modernizr | github」</a></li>\n</ul>\n</li>\n<li><p><code>postCSS</code></p>\n<ul>\n<li>能够使用 <code>JS</code> 插件来转换 <code>CSS</code> 样式的工具</li>\n<li>可通过各种插件来编译尚未被浏览器广泛支持的先进的 <code>CSS</code> 语法，内联图片等</li>\n<li><a href=\"https://github.com/postcss/postcss\">「postcss | github」</a></li>\n</ul>\n</li>\n<li><p>查询站点</p>\n<ul>\n<li><a href=\"https://caniuse.com/\">Can I use</a></li>\n<li><a href=\"http://browserhacks.com/\">BROWSERHACKS</a></li>\n<li><a href=\"https://tongji.baidu.com/research/site\">浏览器市场份额</a></li>\n</ul>\n</li>\n</ul>\n","text":" CSS Hack 问题：不同的流览器或某同一的浏览器的不同版本，对CSS的支持及解析结果不一样，导致生成的页面效果不一样 目的：在不同的浏览器中得到一致的页面效果 方案：针对不同的浏览器编写特定的 CSS 样式，让它能够同时兼容不同的浏览器，即 CSS Hack 浏览器兼容的思...","link":"","photos":[],"count_time":{"symbolsCount":"4.9k","symbolsTime":"4 mins."},"categories":[{"name":"Front-End","slug":"Front-End","count":11,"path":"api/categories/Front-End.json"},{"name":"CSS","slug":"Front-End/CSS","count":8,"path":"api/categories/Front-End/CSS.json"}],"tags":[{"name":"css-hack","slug":"css-hack","count":1,"path":"api/tags/css-hack.json"},{"name":"css-tools","slug":"css-tools","count":1,"path":"api/tags/css-tools.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E7%9A%84%E6%80%9D%E8%B7%AF\"><span class=\"toc-text\">浏览器兼容的思路</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#CSS-Hack-%E7%9A%84%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">CSS Hack 的方法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%90%88%E9%80%82%E7%9A%84%E6%A1%86%E6%9E%B6\"><span class=\"toc-text\">合适的框架</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E8%A7%81%E5%B1%9E%E6%80%A7%E7%9A%84%E5%85%BC%E5%AE%B9%E6%83%85%E5%86%B5\"><span class=\"toc-text\">常见属性的兼容情况</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#CSS-Hack%E8%A1%A8%E7%8E%B0%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">CSS Hack表现方式</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#CSS-%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">CSS 工具</span></a></li></ol>","author":{"name":"GUOWEI","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/gavinst/PicGoCDN/img/imgqBcR3R9huDgTp7QY.png","link":"/","description":"◽浩瀚苍穹 须臾人生◽</br>◽蜉蝣天地 沧海一粟◽</br>◽吾生有涯 而知无涯◽","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"form标签","uid":"4bb15f4ca0b213f02f58c79d3985ea55","slug":"form标签","date":"2021-06-21T16:00:00.000Z","updated":"2022-01-21T14:28:57.468Z","comments":true,"path":"api/articles/form标签.json","keywords":"webDesign","cover":null,"text":"HTML全局属性 HTML属性赋予元素意义和语境，全局属性可用于任何HTML元素 属性 Html5新添 描述 accesskey - 规定激活元素的快捷键 class - 规定元素的一个或多个类名（引用样式表中的类） contenteditable new 规定元素内容是否可编辑...","link":"","photos":[],"count_time":{"symbolsCount":"5.4k","symbolsTime":"5 mins."},"categories":[{"name":"Front-End","slug":"Front-End","count":11,"path":"api/categories/Front-End.json"}],"tags":[{"name":"form","slug":"form","count":1,"path":"api/tags/form.json"}],"author":{"name":"GUOWEI","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/gavinst/PicGoCDN/img/imgqBcR3R9huDgTp7QY.png","link":"/","description":"◽浩瀚苍穹 须臾人生◽</br>◽蜉蝣天地 沧海一粟◽</br>◽吾生有涯 而知无涯◽","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"CSS 编写规范","uid":"df7e1615b6c849779d8f17d7053b62d5","slug":"CSS编写规范","date":"2021-06-14T16:00:00.000Z","updated":"2022-01-21T09:57:47.403Z","comments":true,"path":"api/articles/CSS编写规范.json","keywords":"webDesign","cover":null,"text":"CSS 编写规范格式规范 分号，每个属性定义末尾都要加分号 缩进，使用 soft tab（4个空格），不要使用 tab 或者混合 tab 和空格的缩进 换行 选择符 &#123; 后和 &#125; 前 每个属性 ; 后 多个规则的分隔符 , 后 空格 属性值前 属性值中的 , ...","link":"","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[{"name":"Front-End","slug":"Front-End","count":11,"path":"api/categories/Front-End.json"},{"name":"CSS","slug":"Front-End/CSS","count":8,"path":"api/categories/Front-End/CSS.json"}],"tags":[{"name":"编码规范","slug":"编码规范","count":2,"path":"api/tags/编码规范.json"},{"name":"css","slug":"css","count":6,"path":"api/tags/css.json"}],"author":{"name":"GUOWEI","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/gavinst/PicGoCDN/img/imgqBcR3R9huDgTp7QY.png","link":"/","description":"◽浩瀚苍穹 须臾人生◽</br>◽蜉蝣天地 沧海一粟◽</br>◽吾生有涯 而知无涯◽","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}