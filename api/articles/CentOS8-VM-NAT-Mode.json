{"title":"How to connect CentOS8 VM to internet via NAT mode","uid":"0723a0f3da0efde08b22864279957623","slug":"CentOS8-VM-NAT-Mode","date":"2022-01-15T05:09:48.000Z","updated":"2022-01-19T04:22:17.991Z","comments":true,"path":"api/articles/CentOS8-VM-NAT-Mode.json","keywords":"webDesign","cover":[],"content":"<ul>\n<li><p>åŸºæœ¬åŸç†ï¼šé€šè¿‡<code>VMnet8</code>ç½‘å¡å®ç°ä¸»æœºä¸è™šæ‹Ÿæœºä¹‹é—´çš„é€šä¿¡</p>\n<ul>\n<li>åœ¨<code>NATæ¨¡å¼</code>ä¸­ï¼Œä¸»æœºç½‘å¡ç›´æ¥ä¸è™šæ‹ŸNATè®¾å¤‡ç›¸è¿ï¼Œç„¶åè™šæ‹ŸNATè®¾å¤‡ä¸è™šæ‹ŸDHCPæœåŠ¡å™¨ä¸€èµ·è¿æ¥åœ¨è™šæ‹Ÿäº¤æ¢æœº<code>VMnet8</code>ä¸Šï¼Œè¿™æ ·å°±å®ç°äº†è™šæ‹Ÿæœºè”ç½‘</li>\n</ul>\n</li>\n<li><p>å¯ç”¨<code>VMware</code>ç½‘å€è½¬æ¢æœåŠ¡</p>\n<ul>\n<li>win10<code>WIN+R</code>æ‰“å¼€æœç´¢æ¡†ï¼Œè¾“å…¥<code>services.msc</code>æ‰“å¼€æœåŠ¡</li>\n<li>å¼€å¯<code>VMware DHCP service</code>&amp;<code>VMware NAT service</code>ä¸¤é¡¹æœåŠ¡</li>\n</ul>\n</li>\n<li><p>å¯ç”¨<code>ICMPv4-in</code>å…¥ç«™è§„åˆ™</p>\n<ul>\n<li>win10<code>WIN+I</code>æ‰“å¼€è®¾ç½®ï¼Œæœç´¢é˜²ç«å¢™å¹¶è¿›å…¥ï¼Œé€‰æ‹©<code>é«˜çº§è®¾ç½®</code></li>\n<li>å¼€å¯3ä¸ª<code>ICMPv4-In</code>å…¥ç«™è§„åˆ™</li>\n</ul>\n</li>\n<li><p>è®¾ç½®è™šæ‹Ÿæœºç½‘ç»œè¿æ¥æ¨¡å¼</p>\n<ul>\n<li>é€‰ä¸­è™šæ‹Ÿæœºï¼Œ<code>ç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®</code> &gt; <code>ç¡¬ä»¶ | ç½‘ç»œé€‚é…å™¨</code> &gt; <code>ç½‘ç»œè¿æ¥ | NATæ¨¡å¼</code></li>\n</ul>\n</li>\n<li><p>é…ç½®è™šæ‹Ÿæœº<code>NATæ¨¡å¼</code></p>\n<ul>\n<li><code>VMware</code>èœå•æ  &gt; <code>ç¼–è¾‘</code> &gt; <code>è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</code> &gt; é€‰ä¸­<code>VMnet8 NATæ¨¡å¼</code></li>\n<li>æ‰“å¼€<code>NATè®¾ç½®</code>ï¼ŒæŸ¥çœ‹å­ç½‘<code>ç½‘å…³IP: 192.168.56.2</code>ï¼Œä¿ç•™é»˜è®¤é…ç½®</li>\n<li>æ‰“å¼€<code>DNSè®¾ç½®</code>ï¼Œè®¾ç½®<code>é¦–é€‰DNSæœåŠ¡å™¨</code>ä¸ºä¸»æœº<code>é»˜è®¤ç½‘å…³ï¼š192.168.2.1</code>ï¼ˆæŸ¥çœ‹æ–¹å¼ï¼šWin10å‘½ä»¤è¡Œçª—å£è¾“å…¥<code>ipconfig</code>ï¼‰<br><img src=\"https://cdn.jsdelivr.net/gh/gavinst/PicGoCDN/img/img6qCuabZ3ONKtt0K8.png\"></li>\n<li>åœ¨<code>è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</code>ç•Œé¢ï¼Œæ‰“å¼€<code>DHCPè®¾ç½®</code>ï¼ŒæŸ¥çœ‹<code>èµ·å§‹&amp;ç»“æŸIPåœ°å€</code>ï¼Œä¹‹åè®¾ç½®è™šæ‹Ÿæœº<code>IPADDR</code>æ—¶ï¼Œå°†åœ¨æ­¤ä¹‹é—´<br><img src=\"https://cdn.jsdelivr.net/gh/gavinst/PicGoCDN/img/imgg9scAimnOs6CoClG.png\"></li>\n</ul>\n</li>\n<li><p>é…ç½®ä¸»æœº<code>VMnet8</code>ç½‘ç»œé€‚é…å™¨</p>\n<ul>\n<li>Win10å‘½ä»¤è¡Œçª—å£è¾“å…¥<code>ncpa.cpl</code>ï¼Œæ‰“å¼€é€‚é…å™¨é€‰é¡¹</li>\n<li>å³é”®<code>VMnet8 | å±æ€§</code> &gt; åŒå‡»<code>TCP/IPv4</code>é€‰é¡¹</li>\n<li>è®¾ç½®<code>IPåœ°å€</code>å’Œè™šæ‹Ÿæœºåœ¨åŒä¸€ç½‘æ®µ<code>192.168.56.x</code></li>\n<li><code>é¦–é€‰DNSæœåŠ¡å™¨</code>è®¾ç½®ä¸ºä¸»æœº<code>é»˜è®¤ç½‘å…³ï¼š192.168.2.1</code></li>\n</ul>\n</li>\n<li><p>é…ç½®è™šæ‹Ÿæœºç½‘å¡ä¿¡æ¯</p>\n<ul>\n<li>æŸ¥çœ‹è™šæ‹Ÿæœºç½‘ç»œé…ç½®ï¼Œè™šæ‹Ÿæœºç»ˆç«¯è¾“å…¥<code>ifconfig</code>ï¼Œè·å–ç›¸åº”<code>device name</code>ä¸º<code>ens160</code></li>\n<li>åˆ‡æ¢<code>root</code>ç”¨æˆ·ï¼Œ<code>vi</code>ç¼–è¾‘é…ç½®æ–‡ä»¶<ul>\n<li><code>vi /etc/sysconfig/network-scripts/ifcfg-ens160</code></li>\n</ul>\n</li>\n<li>å¡«å…¥è™šæ‹Ÿæœº<code>NATæ¨¡å¼</code>çš„é»˜è®¤é…ç½®ï¼Œä¿®æ”¹åä¿å­˜<ul>\n<li><code>IPADDR</code>è®¾ä¸ºä¹‹å‰æŸ¥çœ‹çš„<code>DHCP</code>ç½‘æ®µä¹‹é—´</li>\n<li><code>NETMASK</code>é»˜è®¤<code>255.255.255.0</code></li>\n<li><code>GATEWAY</code>å­ç½‘ç½‘å…³<code>192.168.56.2</code><br><img src=\"https://cdn.jsdelivr.net/gh/gavinst/PicGoCDN/img/imgluBXopOV5sa5qujp.png\"></li>\n</ul>\n</li>\n<li>ä¿®æ”¹DNSå®¢æˆ·æœºçš„é…ç½®æ–‡ä»¶<ul>\n<li><code>vi /etc/resolv.conf</code>ï¼Œä¿®æ”¹ä¸º<code>nameserver 192.168.56.2</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>é‡å¯è™šæ‹Ÿæœºç½‘ç»œæœåŠ¡</p>\n<ul>\n<li>é‡å¯ç½‘ç»œæœåŠ¡æˆ–é‡å¯è™šæ‹Ÿæœº  <pre class=\"line-numbers language-none\"><code class=\"language-none\">nmcli c reload  &#x2F;&#x2F;vmä¸‹å®‰è£…CentOSç”¨æ­¤å‘½ä»¤é‡å¯\n\nservice NetworkManager stop  &#x2F;&#x2F;ä¸´æ—¶å…³é—­ï¼Œé¿å…ä¸networké‡å¯å†²çª\nservice network restart\nservice NetworkManager restart\n\n&#x2F;&#x2F;å…¶ä»–å‘½ä»¤\nservice NetworkManager status\nchkconfig NetworkManager off  &#x2F;&#x2F;ç¦æ­¢å¼€æœºå¯åŠ¨\nchkconfig NetworkManager on  &#x2F;&#x2F;å¼€æœºå¯åŠ¨</code></pre></li>\n<li>æµ‹è¯•ç½‘ç»œè¿æ¥<ul>\n<li><code>ping baidu.com</code></li>\n</ul>\n</li>\n<li><code>Network</code>å’Œ<code>NetworkManager</code>åŒºåˆ«<ul>\n<li><code>Network</code>ï¼šå¯¹ç½‘å¡çš„é…ç½®ï¼Œç½‘ç»œæ¥å£ä¿®æ”¹åï¼Œå¿…é¡»é‡å¯ç½‘ç»œæœåŠ¡æ¥åˆ·æ–°é…ç½®ï¼Œæˆ–é‡å¯ç³»ç»Ÿæ¥æ¿€æ´»</li>\n<li><code>NetworkManager</code>ï¼šæ£€æµ‹ã€è‡ªåŠ¨è¿æ¥ç½‘ç»œçš„ç¨‹åº</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>é…ç½®è™šæ‹Ÿæœºç½‘ç»œä»£ç†ï¼Œè®¾ç½®ä»£ç†IPå’Œç«¯å£PORT</p>\n<ul>\n<li><code>firefox</code>ç½‘é¡µä»£ç†ï¼Œé¦–é€‰é¡¹ &gt; ç½‘ç»œè®¾ç½® &gt; ä»£ç†è®¾ç½®<br><img src=\"https://cdn.jsdelivr.net/gh/gavinst/PicGoCDN/img/imgz9srti7nO8pCoWnb.png\"></li>\n<li><code>yum</code>ä»£ç†ï¼Œ<code>echo &#39;proxy=IP:PORT&#39; &gt;&gt; /etc/yum.conf</code></li>\n<li><code>wget</code>ä»£ç†ï¼Œ<code>echo -e &#39;http_proxy = IP:PORT\\nftp_proxy = IP:PORT\\nuse_proxy = on&#39; &gt;&gt; /etc/wgetrc</code> </li>\n<li>ç³»ç»Ÿç¯å¢ƒä»£ç†<ul>\n<li>ç¼–è¾‘æ–‡ä»¶<code>/etc/profile</code>ï¼Œè‹¥åªä¸ºå½“å‰è´¦æˆ·ä»£ç†ï¼Œåˆ™ç¼–è¾‘<code>~/.bashrc</code>ï¼Œæ·»åŠ ä»¥ä¸‹3é¡¹  <pre class=\"line-numbers language-none\"><code class=\"language-none\"># add proxy\nexport http_proxy&#x3D;&quot;IP:PORT&quot;\nexport https_proxy&#x3D;&quot;IP:PORT&quot;\nexport ftp_proxy&#x3D;$http_proxy</code></pre></li>\n<li>åˆ·æ–°ç¯å¢ƒå˜é‡ï¼Œ<code>source /etc/profile</code>æˆ–<code>source ~/.bashrc</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","text":" åŸºæœ¬åŸç†ï¼šé€šè¿‡VMnet8ç½‘å¡å®ç°ä¸»æœºä¸è™šæ‹Ÿæœºä¹‹é—´çš„é€šä¿¡ åœ¨NATæ¨¡å¼ä¸­ï¼Œä¸»æœºç½‘å¡ç›´æ¥ä¸è™šæ‹ŸNATè®¾å¤‡ç›¸è¿ï¼Œç„¶åè™šæ‹ŸNATè®¾å¤‡ä¸è™šæ‹ŸDHCPæœåŠ¡å™¨ä¸€èµ·è¿æ¥åœ¨è™šæ‹Ÿäº¤æ¢æœºVMnet8ä¸Šï¼Œè¿™æ ·å°±å®ç°äº†è™šæ‹Ÿæœºè”ç½‘ å¯ç”¨VMwareç½‘å€è½¬æ¢æœåŠ¡ win10WIN+Ræ‰“å¼€æœç´¢æ¡†ï¼Œè¾“å…¥ser...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"VMware","slug":"VMware","count":1,"path":"api/categories/VMware.json"}],"tags":[{"name":"vmware&NAT","slug":"vmware-NAT","count":1,"path":"api/tags/vmware-NAT.json"},{"name":"centOS8","slug":"centOS8","count":1,"path":"api/tags/centOS8.json"}],"toc":"","author":{"name":"Gavinst","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ğŸ”¸ğŸ”¹ğŸ”¶âŒğŸ”·ğŸ”¸ğŸ”¹<br>å¯„èœ‰è£äºå¤©åœ° æ¸ºæ²§æµ·ä¹‹ä¸€ç²Ÿ","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Hello World","uid":"b9663f58f18133b35bfe243f3e916a80","slug":"hello-world","date":"2022-01-16T15:57:03.877Z","updated":"2022-01-16T15:57:03.877Z","comments":true,"path":"api/articles/hello-world.json","keywords":"webDesign","cover":null,"text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the ...","link":"","photos":[],"count_time":{"symbolsCount":440,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Gavinst","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ğŸ”¸ğŸ”¹ğŸ”¶âŒğŸ”·ğŸ”¸ğŸ”¹<br>å¯„èœ‰è£äºå¤©åœ° æ¸ºæ²§æµ·ä¹‹ä¸€ç²Ÿ","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{}}